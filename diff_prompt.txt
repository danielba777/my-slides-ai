Bitte ändere nur die diffs, so wie ich sie dir unten hinschreibe. Ändere sonst nichts mehr und fasse keine anderen Dateien oder Codestellen an. Bitte strikt nach meinem diff File gehen:

*** Begin Patch
*** Update File: src/components/dashboard/admin/AdminSounds.tsx
@@
     } catch (err) {
       console.error("[AdminSounds] Upload error:", err);
-      alert(err?.message || "Upload failed");
+      alert(err instanceof Error ? err.message : "Upload failed");
     } finally {
       setBusy(false);
     }
   }
*** End Patch
diff
Code kopieren
*** Begin Patch
*** Update File: src/server/ugc/video-composer.ts
@@
-const uploadBuffer = async (buf: Buffer, key: string, mimeType: string = "video/mp4"): Promise<string> => {
+const uploadBuffer = async (buf: Buffer, key: string, mimeType: string = "video/mp4"): Promise<string> => {
   // Sprechender Dateiname + korrekter MIME-Type
   const extension = mimeType === "video/mp4" ? ".mp4" : ".jpg";
   const filename = `${key}${extension}`;
-  const utFile = new File([buf], filename, {
-    type: mimeType,
-    lastModified: Date.now(),
-  });
+  // In Node keine Web-File-API nutzen: UploadThing erwartet UTFile (server)
+  // Buffer -> Uint8Array, damit der Konstruktor sauber typisiert ist
+  const utFile = new UTFile([new Uint8Array(buf)], filename, { type: mimeType });
@@
-      const [upload] = await utapi.uploadFiles([utFile]);
+      const [upload] = await utapi.uploadFiles([utFile]);
*** End Patch